---
interface Props {
  title: string;
  category: string;
  location: string;
  year?: string;
  image: string;
  href?: string;
}

const { title, category, location, year, image, href = '#' } = Astro.props;

const categoryLabels: Record<string, string> = {
  commercial: 'Commercial',
  residential: 'Residential',
  renovation: 'Renovation'
};
---

<article class="card project-card">
  <a href={href} class="card-link" aria-label={`View ${title} project`}>
    <div class="card-image">
      <img
        src={image}
        alt={title}
        loading="lazy"
        decoding="async"
        width="400"
        height="300"
      />
    </div>
    <div class="card-content">
      <span class="card-category">{categoryLabels[category] || category}</span>
      <h3 class="card-title">{title}</h3>
      <p class="card-meta">
        {location}{year && ` â€¢ ${year}`}
      </p>
    </div>
  </a>
</article>

<style>
  .project-card {
    height: 100%;
  }

  .card-link {
    display: block;
    text-decoration: none;
    color: inherit;
    height: 100%;
  }

  .card-link:focus-visible {
    outline: 2px solid var(--color-navy);
    outline-offset: 2px;
  }
</style>
